*{margin:0;padding:0;box-sizing:border-box}

:root{
--black:#000;
--white:#fff;
--pink:#d7268a;
--gray:#f5f5f5;
--blue:#4da6ff;
}

/* Prevent horizontal scroll on iOS */
html,body{
max-width:100%;
overflow-x:hidden;
}

/* ================= HEADER ================= */
.site-header{
display:flex;
justify-content:space-between;
align-items:center;
padding:16px 28px;
border-bottom:3px solid #000;
background:#fff;
flex-wrap:wrap;
gap:10px;
}

.logo{
font-weight:700;
font-size:18px;
}

.menu{
display:flex;
flex-wrap:wrap;
}

.menu a{
margin-left:26px;
text-decoration:none;
color:#000;
font-weight:500;
}

.menu a.active{
border-bottom:3px solid var(--pink);
padding-bottom:4px;
}

/* ================= PAGE ================= */
body{
font-family:system-ui;
background:#fafafa;
}

.page{
max-width:1200px;
margin:auto;
padding:28px 20px;
display:flex;
flex-direction:column;
gap:28px;
}

/* ================= CARD ================= */
.card{
background:#fff;
border:3px solid #000;
border-radius:18px;
padding:26px;
}

/* ================= SECTION TITLE ================= */
.section-title{
margin-bottom:22px;
border-left:6px solid var(--pink);
padding-left:12px;
}

/* ================= TWO COLUMN LAYOUT ================= */
.two-col{
display:grid;
grid-template-columns: min(420px, 100%) 1fr;
gap:40px;
align-items:start;
}

/* ================= BOARD ================= */
.board-wrap{
width:100%;
max-width:420px;
}

.board{
width:100%;
aspect-ratio:1/1;
display:grid;
grid-template-columns:repeat(8,1fr);
grid-template-rows:repeat(8,1fr);
border:3px solid #000;
border-radius:12px;
overflow:hidden;
}

.square{
display:flex;
align-items:center;
justify-content:center;
width:100%;
height:100%;
font-size:32px;
cursor:pointer;
user-select:none;
  font-family:
  "Segoe UI Symbol",
  "Noto Chess",
  "DejaVu Sans",
  "Arial Unicode MS",
  sans-serif;

font-variant-emoji: text;
}

/* Pink board mode */
.light{background:#f0d9b5;}
.dark{background:#d7268a;}

/* Black/white board mode */
.light.black{background:#fff;}
.dark.black{background:#000;}

/* ================= ANALYSIS ================= */
.analysis-col{
display:flex;
flex-direction:column;
gap:16px;
min-width:0;
}

.analyst-card{
display:flex;
align-items:center;
gap:12px;
flex-wrap:wrap;
}

.avatar{
width:64px;
height:64px;
border-radius:50%;
border:2px solid #000;
}

.analysis-bubble{
border:2px solid #000;
border-radius:14px;
padding:18px;
background:#f5f5f5;
min-height:220px;
}

/* ================= ANALYZE BLOCK ================= */
.analyze-block{
margin-top:14px;
display:flex;
flex-direction:column;
gap:12px;
}

.analyze-caption{
font-size:13px;
background:#fafafa;
border:2px solid #000;
border-radius:12px;
padding:12px;
}

.analyze-btn{
padding:14px;
font-size:16px;
font-weight:600;
border:3px solid #000;
border-radius:12px;
background:var(--pink);
color:#fff;
cursor:pointer;
width:100%;
}

.toggle{
padding:10px;
border:2px solid #000;
background:#fff;
cursor:pointer;
width:100%;
}

/* ================= SECTION 2 ================= */
.section-secondary{
text-align:center;
}

/* ================= TABLET ================= */
@media (max-width: 900px){

.two-col{
grid-template-columns:1fr;
gap:28px;
}

.board-wrap{
margin:auto;
}

.analysis-col{
order:2;
}
}

/* ================= MOBILE ================= */
@media (max-width: 600px){

.page{
padding:16px;
gap:20px;
}

.card{
padding:18px;
border-radius:14px;
}

.site-header{
padding:14px 16px;
}

.menu a{
margin-left:0;
margin-right:16px;
}

.square{
font-size:clamp(22px,7vw,30px);
}

.analysis-bubble{
min-height:140px;
font-size:14px;
padding:14px;
}

.logo{
font-size:16px;
}

.section-title{
font-size:18px;
}
}

/* ================= EXTRA SMALL PHONES ================= */
/* iPhone SE / very narrow devices */
@media (max-width: 420px){

.site-header{
padding:12px;
}

.menu{
width:100%;
}

.menu a{
font-size:14px;
margin-right:14px;
}

.page{
padding:12px;
}

.card{
padding:14px;
border-radius:12px;
}

.section-title{
font-size:16px;
}

.square{
font-size:clamp(18px,8vw,26px);
}

.avatar{
width:52px;
height:52px;
}

.analysis-bubble{
font-size:13px;
padding:12px;
min-height:120px;
}
}


/* ================= ULTRA NARROW SAFETY ================= */
/* prevents ANY horizontal scroll ever */
@media (max-width: 360px){

.two-col{
gap:18px;
}

.board-wrap{
max-width:100%;
}

.square{
font-size:clamp(16px,9vw,24px);
}

.logo{
font-size:15px;
}
}


/* ================= TALL IPHONES ================= */
/* iPhone 14/15/16/17 tall screens */
@media (min-height: 800px) and (max-width: 500px){

.page{
gap:24px;
}

.analysis-bubble{
min-height:180px;
}
}


/* ================= LANDSCAPE PHONES ================= */
@media (max-width: 900px) and (orientation: landscape){

.two-col{
grid-template-columns: 1fr 1fr;
gap:18px;
}

.board-wrap{
max-width:360px;
}

.square{
font-size:clamp(18px,4vw,26px);
}
}


/* ================= SAFE AREA (NOTCH) ================= */
@supports(padding: max(0px)){
.site-header{
padding-left:max(16px, env(safe-area-inset-left));
padding-right:max(16px, env(safe-area-inset-right));
}

.page{
padding-left:max(16px, env(safe-area-inset-left));
padding-right:max(16px, env(safe-area-inset-right));
}
}


/* ================= TOUCH TARGET SAFETY ================= */
@media (pointer: coarse){

.analyze-btn{
min-height:48px;
}

.toggle{
min-height:44px;
}

.menu a{
padding:6px 0;
}
}


/* ================= LARGE PHONES (Pro Max etc) ================= */
@media (min-width: 430px) and (max-width: 700px){

.board-wrap{
margin:auto;
max-width:440px;
}

.square{
font-size:clamp(24px,5vw,34px);
}
}

.modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
}

.modal.hidden {
  display: none;
}

.modal-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.6);
}

.modal-content {
  position: relative;
  width: 520px;
  max-width: 90%;
  margin: 8vh auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
}

/* =====================================
TABLET (≤ 1000px)
Stack board + analysis
===================================== */
@media (max-width: 1000px) {

  .two-col {
    display: flex;
    flex-direction: column;
    gap: 40px;
  }

  .board-wrap {
    max-width: 520px;
    margin: 0 auto;
  }

  .analysis-col {
    max-width: 620px;
    margin: 0 auto;
  }

  .section-title {
    text-align: center;
  }
}


/* =====================================
SMALL TABLET (≤ 768px)
Tighten spacing
===================================== */
@media (max-width: 768px) {

  .site-header {
    flex-direction: column;
    gap: 12px;
    text-align: center;
  }

  .menu {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .card {
    padding: 24px 18px;
  }

  .analysis-bubble {
    font-size: 15px;
    line-height: 1.6;
  }

  .avatar {
    width: 60px;
    height: 60px;
  }
}


/* =====================================
PHONE (≤ 520px)
Board fills screen
===================================== */
@media (max-width: 520px) {

  .page {
    padding: 10px;
  }

  .card {
    padding: 18px 14px;
    border-radius: 10px;
  }

  .section-title {
    font-size: 22px;
  }

  .logo {
    font-size: 18px;
  }

  .board-wrap {
    width: 100%;
  }

  #board {
    width: 100% !important;
    height: auto !important;
  }

  .analyze-btn {
    width: 100%;
    margin-top: 12px;
  }

  .toggle {
    width: 100%;
    margin-top: 10px;
  }

  .analyst-card {
    justify-content: center;
    text-align: center;
  }

  .analysis-bubble {
    font-size: 14px;
    padding: 16px;
  }
}


/* =====================================
MODAL RESPONSIVE
===================================== */
@media (max-width: 600px) {

  .modal-content {
    width: 92%;
    margin: 12vh auto;
    padding: 22px 18px;
  }

  .modal h2 {
    font-size: 20px;
  }

  .close-btn {
    font-size: 20px;
  }
}
